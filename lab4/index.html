<!DOCTYPE html>
<html>
    <body>
        <canvas id="myCanvas" width="800" height="600">
            <script>
                var canvas = document.getElementById("myCanvas");
                var ctx = canvas.getContext("2d");

                var playerPosition = canvas.clientWidth / 2;
                const velocity = 30;
                const playerSize = 20;
                function drawPlayer(size, ctx)
                {
                    ctx.beginPath();
                    ctx.fillRect(playerPosition, canvas.clientHeight - size, size, size);
                    ctx.fillStyle = "red";
                    ctx.stroke();
                    requestAnimationFrame(()=>{
                        ctx.clearRect(0, 0, canvas.clientWidth, canvas.clientHeight);
                        drawPlayer(size, ctx);
                    })
                }

                document.addEventListener('keydown', (event)=> {
                    if (event.defaultPrevented) { return; }
                    switch (event.key) {
                        case "ArrowLeft":
                            if (playerPosition - playerSize > 0) {
                                playerPosition -= velocity;
                            }
                            break;
                        case "ArrowRight":
                            if (playerPosition + playerSize < canvas.clientWidth) {
                                playerPosition += velocity;
                            }
                    }
                    event.preventDefault();
                }, true);

                requestAnimationFrame(() => {
                    drawPlayer(playerSize, ctx);
                });
            </script>
        </canvas>
    </body>
</html>